if(window.$&&window.$.Velocity)window.Velocity=window.$.Velocity;HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this);this.parentNode.removeChild(this);e.appendChild(this)};const getRndInteger=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var scrollAction={x:"undefined",y:"undefined"};var diffY=0;const Container=document.querySelector("body > .container");const siteNav=document.querySelector(".container > header nav");const siteNavHeight=siteNav.getBoundingClientRect().height;const siteHeader=document.querySelector(".container > header");const headerHight=siteHeader.getBoundingClientRect().height;const headerHightInner=headerHight-siteNavHeight;const backToTop=document.querySelector(".back-to-top");const getDocHeight=function(){return document.querySelector(".content > .wrap").offsetHeight};const resizeHandle=function(e){var t=37;if(document.querySelector(".sidebar ul.tab")){t=115}var n=getDocHeight();if(n>document.body.offsetHeight){document.querySelector(".sidebar .panels").style.height=document.body.offsetHeight-t+"px";document.querySelector(".sidebar .quick").style.display="flex"}else{document.querySelector(".sidebar .quick").style.display="none"}};const scrollHandle=function(e){var t=window.innerHeight;var n=getDocHeight();var o=n>t?n-t:document.body.scrollHeight-t;var c=Container.scrollTop>headerHightInner;siteNav.classList.toggle("show",c);document.querySelector("main .sidebar").classList.toggle("affix",c&&document.body.offsetWidth>991);if(typeof scrollAction.y=="undefined"){scrollAction.y=Container.scrollTop}diffY=scrollAction.y-Container.scrollTop;if(diffY<0){siteNav.classList.remove("up");siteNav.classList.toggle("down",c)}else if(diffY>0){siteNav.classList.remove("down");siteNav.classList.toggle("up",c)}else{}scrollAction.y=Container.scrollTop;var r=Math.round(Math.min(100*Container.scrollTop/o,100))+"%";backToTop.querySelector("span").innerText=r;document.querySelector(".quick .percent").style.width=r};const sidebarTOC=function(){var e=document.querySelectorAll(".contents li");if(e.length<1){return}var t=Array.prototype.slice.call(e)||[];t=t.map(function(e,t){var n=e.querySelector("a.toc-link");n.addEventListener("click",function(e){e.preventDefault();var n=document.getElementById(e.currentTarget.getAttribute("href").replace("#",""));pageScroll(Container.scrollTop+n.getBoundingClientRect().top-n.getBoundingClientRect().height-headerHightInner-siteNavHeight,function(){o(t)})});return document.getElementById(n.getAttribute("href").replace("#",""))});var n=document.querySelector(".contents.panel");function o(o){var c=e[o];if(!c)return;if(c.classList.contains("current")){return}document.querySelectorAll(".toc .active").forEach(function(e){e.classList.remove("active","current")});t.forEach(function(e){e.classList.remove("active")});c.classList.add("active","current");t[o].classList.add("active");var r=c.parentNode;while(!r.matches(".contents")){if(r.matches("li")){r.classList.add("active");var i=document.getElementById(r.querySelector("a.toc-link").getAttribute("href").replace("#",""));if(i){i.classList.add("active")}}r=r.parentNode}Velocity(c,"scroll",{duration:200,container:n})}function c(e){var n=0;var o=e[n];if(o.boundingClientRect.top>0){n=t.indexOf(o.target);return n===0?0:n-1}for(;n<e.length;n++){if(e[n].boundingClientRect.top<=0){o=e[n]}else{return t.indexOf(o.target)}}return t.indexOf(o.target)}function r(){var e=new IntersectionObserver(function(e,t){var n=c(e)+(diffY>0?0:1);o(n)},{root:Container,threshold:0});t.forEach(function(t){t&&e.observe(t)})}r()};const sideBarToggleHandle=function(e){const t=document.querySelector("main .sidebar");document.querySelector(".toggle.menu").classList.toggle("close");var n=t.classList.contains("on")?"transition.slideRightOut":"transition.slideRightIn";Velocity(t,n,{duration:200,complete:function(){t.classList.toggle("on")}})};const sideBarTab=function(){var e=document.querySelector(".sidebar .inner");var t=document.querySelectorAll(".sidebar .panel");if(document.querySelector(".sidebar ul.tab")){e.removeChild(document.querySelector(".sidebar ul.tab"))}var n=document.createElement("ul"),o="active";n.className="tab";["contents","related","overview"].forEach(function(e){var t=document.querySelector(".sidebar .panel."+e);if(t.innerHTML.length<1){return}var c=document.createElement("li");var r=document.createElement("span");var i=document.createTextNode(t.getAttribute("data-title"));r.appendChild(i);c.appendChild(r);c.classList.add(e);if(o){t.classList.add(o);c.classList.add(o)}else{t.classList.remove("active")}c.addEventListener("click",function(e){var t=event.currentTarget;if(t.classList.contains("active"))return;document.querySelectorAll(".sidebar .tab li").forEach(function(e){e.classList.remove("active")});document.querySelectorAll(".sidebar .panel").forEach(function(e){e.classList.remove("active")});document.querySelector(".sidebar .panel."+t.className).classList.add("active");t.classList.add("active")});n.appendChild(c);o=""});if(n.childNodes.length>1){e.insertBefore(n,e.childNodes[0])}};const menuActive=function(){document.querySelectorAll(".menu .item").forEach(function(e){var t=e.querySelector("a[href]");if(!t)return;var n=t.pathname===location.pathname||t.pathname===location.pathname.replace("index.html","");var o=!CONFIG.root.startsWith(t.pathname)&&location.pathname.startsWith(t.pathname);e.classList.toggle("active",t.hostname===location.hostname&&(n||o))})};const postBeauty=function(){document.querySelectorAll("figure.highlight").forEach(function(e){const t=e.querySelector("figcaption");if(t){t.insertAdjacentHTML("afterBegin",'<div class="carbon"><div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div></div>')}e.insertAdjacentHTML("beforeend",'<div class="copy-btn"><i class="fa fa-clipboard fa-fw"></i></div>');var n=e.querySelector(".copy-btn");n.addEventListener("click",function(e){var t=e.currentTarget;var n=Array.prototype.slice.call(t.parentNode.querySelectorAll(".code .line"))||[];n=n.map(function(e){return e.innerText}).join("\n");var o=document.createElement("textarea");o.style.top=window.scrollY+"px";o.style.position="absolute";o.style.opacity="0";o.readOnly=true;o.value=n;document.body.append(o);const c=document.getSelection();const r=c.rangeCount>0?c.getRangeAt(0):false;o.select();o.setSelectionRange(0,n.length);o.readOnly=false;var i=document.execCommand("copy");t.querySelector("i").className=i?"fa fa-check fa-fw":"fa fa-times fa-fw";o.blur();t.blur();if(r){c.removeAllRanges();c.addRange(r)}document.body.removeChild(o)});n.addEventListener("mouseleave",function(e){setTimeout(function(){e.target.querySelector("i").className="fa fa-clipboard fa-fw"},300)})});document.querySelectorAll("table").forEach(function(e){const t=document.createElement("div");t.className="table-container";e.wrap(t)});document.querySelectorAll("pre.mermaid > svg").forEach(function(e){e.style.maxWidth=""});document.querySelectorAll(".reward button").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();document.getElementById("qr").classList.toggle("show")})})};const pageScroll=function(e,t){Velocity(document.querySelector("main .content"),"scroll",{duration:500,container:Container,offset:e,complete:t||function(){}})};const backToTopHandle=function(){pageScroll(-headerHight)};const goToBottomHandle=function(){pageScroll(getDocHeight()+document.querySelector(".container > footer").offsetHeight)};const quizHandle=function(){document.querySelectorAll(".options li").forEach(function(e){e.addEventListener("click",function(t){if(e.classList.contains("correct")){e.classList.toggle("right");e.parentNode.parentNode.classList.toggle("show")}else{e.classList.toggle("wrong")}})});document.querySelectorAll(".quiz.true, .quiz.false, .quiz.essay").forEach(function(e){e.addEventListener("click",function(t){e.classList.toggle("show")})})};const loadComments=function(){var e=document.querySelector("#comments");if(!e){return}var t=new IntersectionObserver(function(t,n){var o=t[0];if(o.isIntersecting){var c=CONFIG.comments;c.el="#comments";c.path=e.getAttribute("data-id");new Valine(c);n.disconnect()}});t.observe(e);return t};const siteRefresh=function(){sideBarTab();sidebarTOC();postBeauty();quizHandle();menuActive();loadComments();resizeHandle()};const bgChange=function(){var e=getRndInteger(1,4);[1,2,3,4].forEach(function(t){siteHeader.classList.toggle("bg"+t,t==e)})};const siteInit=function(){var e=new Pjax({selectors:["head title",".languages",".pjax"],analytics:false,cacheBust:false});document.querySelector(".toggle.menu").addEventListener("click",sideBarToggleHandle);document.querySelector(".dimmer").addEventListener("click",sideBarToggleHandle);document.querySelector(".quick .up").addEventListener("click",backToTopHandle);document.querySelector(".quick .down").addEventListener("click",goToBottomHandle);setInterval(bgChange,3e4);Container.addEventListener("scroll",scrollHandle);backToTop.addEventListener("click",backToTopHandle);window.addEventListener("resize",resizeHandle);window.addEventListener("pjax:send",function(){});window.addEventListener("pjax:success",function(){pageScroll(0);siteRefresh()});siteRefresh()};window.addEventListener("DOMContentLoaded",siteInit);