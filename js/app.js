// build time:Mon May 04 2020 14:50:56 GMT+0800 (GMT+08:00)
if(window.$&&window.$.Velocity)window.Velocity=window.$.Velocity;var NEW_LINE_EXP=/\n(?!$)/g;var scrollAction={x:"undefined",y:"undefined"},scrollDirection;const siteNav=document.querySelector("nav.site");const sideBar=document.querySelector("main .sidebar");const headerHight=document.querySelector(".container > header").getBoundingClientRect().height-document.querySelector("nav.site").getBoundingClientRect().height;HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this);this.parentNode.removeChild(this);e.appendChild(this)};const initSize=function(){document.querySelector(".sidebar .panel").style.maxHeight=document.body.offsetHeight+"px"};const sideBarToggle=function(){document.querySelector(".toggle.menu").classList.toggle("close");var e=sideBar.classList.contains("on")?"transition.slideRightOut":"transition.slideRightIn";Velocity(sideBar,e,{duration:200,complete:function(){sideBar.classList.toggle("on")}})};const init=function(){document.querySelector(".toggle.menu").addEventListener("click",function(e){sideBarToggle()});document.querySelector(".dimmer").addEventListener("click",function(e){sideBarToggle()});document.querySelectorAll("figure.highlight").forEach(function(e){const t=document.createElement("div");e.wrap(t);t.classList.add("highlight-container");t.insertAdjacentHTML("beforeend",'<div class="copy-btn"><i class="fa fa-clipboard fa-fw"></i></div>');var n=e.parentNode.querySelector(".copy-btn");n.addEventListener("click",function(e){var t=e.currentTarget;var n=Array.prototype.slice.call(t.parentNode.querySelectorAll(".code .line"))||[];n=n.map(function(e){return e.innerText}).join("\n");var i=document.createElement("textarea");i.style.top=window.scrollY+"px";i.style.position="absolute";i.style.opacity="0";i.readOnly=true;i.value=n;document.body.append(i);const o=document.getSelection();const s=o.rangeCount>0?o.getRangeAt(0):false;i.select();i.setSelectionRange(0,n.length);i.readOnly=false;var c=document.execCommand("copy");t.querySelector("i").className=c?"fa fa-check fa-fw":"fa fa-times fa-fw";i.blur();t.blur();if(s){o.removeAllRanges();o.addRange(s)}document.body.removeChild(i)});n.addEventListener("mouseleave",function(e){setTimeout(function(){e.target.querySelector("i").className="fa fa-clipboard fa-fw"},300)})});initSize()};window.addEventListener("DOMContentLoaded",function(){var e=new Pjax({selectors:["head title","#page-configurations","main .inner > .wrap",".post-toc-wrap",".languages","#pjax"],switches:{".post-toc-wrap":Pjax.switches.innerHTML},analytics:false,cacheBust:false});init()});window.addEventListener("pjax:success",function(){Velocity(document.querySelector("html"),"scroll",{duration:500,offset:headerHight,easing:"easeInOutCubic"});init()});window.addEventListener("pjax:send",function(){});window.addEventListener("scroll",function(e){e=e||window.event;siteNav.classList.toggle("show",window.scrollY>headerHight);sideBar.classList.toggle("affix",window.scrollY>headerHight&&document.body.offsetWidth>991);if(typeof scrollAction.x=="undefined"){scrollAction.x=window.pageXOffset;scrollAction.y=window.pageYOffset}var t=scrollAction.x-window.pageXOffset;var n=scrollAction.y-window.pageYOffset;if(t<0){scrollDirection="right"}else if(t>0){scrollDirection="left"}else if(n<0){scrollDirection="down";siteNav.classList.remove("up");siteNav.classList.toggle("down",window.scrollY>300)}else if(n>0){scrollDirection="up";siteNav.classList.remove("down");siteNav.classList.toggle("up",window.scrollY>300)}else{}scrollAction.x=window.pageXOffset;scrollAction.y=window.pageYOffset});window.addEventListener("resize",initSize);
//rebuild by neat 